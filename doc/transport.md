####传输层
- 传输层目前只提供了Netty4.1.x的实现, 理论上完全可以替换到其他Nio框架, 其他模块对Netty没有任何依赖

######Protocol

*****************************************************************************
                                            Protocol
    ┌ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ┐
         2   │   1   │    1   │     8     │      4      │
    ├ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ┤
             │       │        │           │             │
    │  MAGIC   Sign    Status   Invoke Id   Body Length                Body Content             │
             │       │        │           │             │
    └ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ┘

* 消息头16个字节定长 * = 2 // MAGIC = (short) 0xbabe 
* + 1 // 消息标志位, 用来表示消息类型Request/Response/Heartbeat等
 * + 1 // 状态位, 设置请求响应状态
 * + 8 // 消息 id, long 类型 
* + 4 // 消息体 body 长度, int类型

Sign: -128 ~ 127的范围(byte)有点浪费, 可以将高地址2~4位作为序列化标识, 暂时未支持

######Acceptor

*****************************************************************************
                  I/O Request                       I/O Response
                       │                                 △
                                                         │
                       │
       ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ┼ ─ ─ ─ ─ ─ ─ ─ ─
       │               │                                                  │
                                                         │
       │  ┌ ─ ─ ─ ─ ─ ─▽─ ─ ─ ─ ─ ─ ┐       ┌ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ┐   │
           IdleStateChecker#inBound          IdleStateChecker#outBound
       │  └ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ┘       └ ─ ─ ─ ─ ─ ─△─ ─ ─ ─ ─ ─ ┘   │
                       │                                 │
       │                                                                  │
                       │                                 │
       │  ┌ ─ ─ ─ ─ ─ ─▽─ ─ ─ ─ ─ ─ ┐                                     │
           AcceptorIdleStateTrigger                      │
       │  └ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ┘                                     │
                       │                                 │
       │                                                                  │
                       │                                 │
       │  ┌ ─ ─ ─ ─ ─ ─▽─ ─ ─ ─ ─ ─ ┐       ┌ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ┐   │
                ProtocolDecoder                   ProtocolEncoder
       │  └ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ┘       └ ─ ─ ─ ─ ─ ─△─ ─ ─ ─ ─ ─ ┘   │
                       │                                 │
       │                                                                  │
                       │                                 │
       │  ┌ ─ ─ ─ ─ ─ ─▽─ ─ ─ ─ ─ ─ ┐                                     │
                AcceptorHandler                          │
       │  └ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ┘                                     │
                       │                                 │
       │                    ┌ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ┐                     │
                       ▽                                 │
       │               ─ ─ ▷│       Processor       ├ ─ ─▷                │

       │                    └ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ┘                     │
       ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─


######Connector

*****************************************************************************
                            ┌ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ┐

                       ─ ─ ─│        Server         │─ ─▷
                       │                                 │
                            └ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ┘
                       │                                 ▽
                                                    I/O Response
                       │                                 │

                       │                                 │
       ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─
       │               │                                 │                │

       │               │                                 │                │
         ┌ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ┐      ┌ ─ ─ ─ ─ ─ ─▽─ ─ ─ ─ ─ ─ ─
       │  ConnectionWatchdog#outbound        ConnectionWatchdog#inbound│  │
         └ ─ ─ ─ ─ ─ ─ △ ─ ─ ─ ─ ─ ─ ┘      └ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─
       │                                                 │                │
                       │
       │  ┌ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ┐       ┌ ─ ─ ─ ─ ─ ─▽─ ─ ─ ─ ─ ─ ┐   │
           IdleStateChecker#outBound         IdleStateChecker#inBound
       │  └ ─ ─ ─ ─ ─ ─△─ ─ ─ ─ ─ ─ ┘       └ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ┘   │
                                                         │
       │               │                                                  │
                                            ┌ ─ ─ ─ ─ ─ ─▽─ ─ ─ ─ ─ ─ ┐
       │               │                     ConnectorIdleStateTrigger    │
                                            └ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ┘
       │               │                                 │                │

       │               │                    ┌ ─ ─ ─ ─ ─ ─▽─ ─ ─ ─ ─ ─ ┐   │
                                                  ProtocolDecoder
       │               │                    └ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ┘   │
                                                         │
       │               │                                                  │
                                            ┌ ─ ─ ─ ─ ─ ─▽─ ─ ─ ─ ─ ─ ┐
       │               │                         ConnectorHandler         │
          ┌ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ┐       └ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ┘
       │        ProtocolEncoder                          │                │
          └ ─ ─ ─ ─ ─ ─△─ ─ ─ ─ ─ ─ ┘
       │                                                 │                │
       ─ ─ ─ ─ ─ ─ ─ ─ ┼ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─
                                             ┌ ─ ─ ─ ─ ─ ▽ ─ ─ ─ ─ ─ ┐
                       │
                                             │       Processor       │
                       │
                  I/O Request                └ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ┘